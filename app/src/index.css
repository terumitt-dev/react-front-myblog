/*app/src/index.css*/

@tailwind base;
@tailwind components;
@tailwind utilities;

html,
body {
    height: 100%;
    margin: 0;
    padding: 0;
}

#root {
    height: 100%;
}

/* インタラクティブ要素のみにフォーカススタイルを適用 */
button,
a,
input,
textarea,
select,
[tabindex]:not([tabindex="-1"]),
[role="button"],
[role="link"],
[role="tab"],
[role="menuitem"],
[role="option"] {
    outline: 2px solid transparent;
    outline-offset: 2px;
    transition: outline-color 0.2s ease;
}

button:focus,
a:focus,
input:focus,
textarea:focus,
select:focus,
[tabindex]:not([tabindex="-1"]):focus,
[role="button"]:focus,
[role="link"]:focus,
[role="tab"]:focus,
[role="menuitem"]:focus,
[role="option"]:focus {
    outline-color: #3b82f6; /* blue-500 */
}

/* モダンブラウザでの最適化 */
@supports selector(:focus-visible) {
    button:focus:not(:focus-visible),
    a:focus:not(:focus-visible),
    input:focus:not(:focus-visible),
    textarea:focus:not(:focus-visible),
    select:focus:not(:focus-visible),
    [tabindex]:not([tabindex="-1"]):focus:not(:focus-visible),
    [role="button"]:focus:not(:focus-visible),
    [role="link"]:focus:not(:focus-visible),
    [role="tab"]:focus:not(:focus-visible),
    [role="menuitem"]:focus:not(:focus-visible),
    [role="option"]:focus:not(:focus-visible) {
        outline-color: transparent;
    }

    button:focus-visible,
    a:focus-visible,
    input:focus-visible,
    textarea:focus-visible,
    select:focus-visible,
    [tabindex]:not([tabindex="-1"]):focus-visible,
    [role="button"]:focus-visible,
    [role="link"]:focus-visible,
    [role="tab"]:focus-visible,
    [role="menuitem"]:focus-visible,
    [role="option"]:focus-visible {
        outline-color: #3b82f6;
    }
}

/* 高コントラストモード対応 */
@media (prefers-contrast: high) {
    button:focus,
    a:focus,
    input:focus,
    textarea:focus,
    select:focus,
    [tabindex]:not([tabindex="-1"]):focus,
    [role="button"]:focus,
    [role="link"]:focus,
    [role="tab"]:focus,
    [role="menuitem"]:focus,
    [role="option"]:focus {
        outline: 3px solid;
        outline-offset: 2px;
    }
}
